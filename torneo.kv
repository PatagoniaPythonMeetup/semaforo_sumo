Principal

<Principal@ScreenManager>:
  MenuScreen:
    name: 'menu'
  SemaforoSumo:
    name: 'sumo'


<MenuScreen@Screen>:
  BoxLayout:
    orientation: 'vertical'
    canvas.before:
      Color:
        rgb: .6, .6, .6
      Rectangle:
        pos: self.pos
        size: root.size
        source: "data/back.png"

    Label:
      text: "Competencia de Robótica"
      font_size: 32
    BoxLayout:
      size_hint: (1, .1)
      spacing: 10
      padding: 10
      Button:
        text: "Sumo"
        on_press: app.root.current = 'sumo'
      Button:
        text: "Seguidor de Línea"


<SemaforoSumo@Screen>:
  BoxLayout:
    size: root.size
    orientation: "vertical"

    canvas:
      Color:
        rgb: .6, .6, .6
      Rectangle:
        pos: self.pos
        size: root.size
        source: "data/back.png"

    Label:
      size_hint: (1, 0.1)
      text: "Semáforo SUMO"
      font_size: 32
    BoxLayout:
      orientation: 'horizontal'
      padding_bottom: 50
      LightLabel:
        id: led1
      LightLabel:
        id: led2
      LightLabel:
        id: led3
    BoxLayout:
      size_hint: (1, .2)
      spacing: 20
      padding: 20
      Button:
        id: start_button
        text: "Start"
        #on_press: from pdb import set_trace; set_trace()
        on_press: root.ids.semaforo_sumo.start()
      Button:
        id: exit_button
        text: "Stop"
        disabled: True
        # Arrancar el timer
        on_press: from pdb import set_trace; set_trace()
        #on_press: print(self.parent.parent)
      Button:
        id: cancelar
        size_hint: (.2, 1)
        Image:
          source: "data/cancel.png"
          y: self.parent.y + self.parent.height - 200
          x: self.parent.x
          size: min(self.size), min(self.size)



<LightLabel@Label>:
  canvas.before:
    Color:
      rgba: self.red, self.green, self.blue, self.alpha
    Ellipse:
      size: min(self.size), min(self.size)
      pos: self.pos
